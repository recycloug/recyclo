<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recyclo - Waste Disposal Guide</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 15px;
            background-color: #f4f4f4;
            color: #333;
            line-height: 1.6;
        }
        header {
            text-align: center;
            background-color: #4CAF50;
            color: white;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            font-size: 1.1em;
        }
        select, input[type="text"], input[type="number"] {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1em;
            box-sizing: border-box;
        }
        .button-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 12px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            flex: 1;
            min-width: 120px;
            min-height: 48px;
        }
        button:hover {
            background-color: #45a049;
        }
        #result, #disposalInfo, .stem-result {
            margin-top: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 6px;
            display: none;
        }
        .category {
            margin-bottom: 20px;
        }
        .category h4 {
            margin: 0 0 10px 0;
            color: #2c3e50;
            font-size: 1.1em;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }
        .item-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 8px;
        }
        .item-btn {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 16px;
            border-radius: 6px;
            font-size: 0.95em;
            cursor: pointer;
            min-height: 48px;
            flex: 1 1 calc(45% - 10px);
            text-align: center;
        }
        .item-btn:hover {
            background-color: #2980b9;
        }

        /* Responsive */
        @media (max-width: 600px) {
            body { padding: 10px; }
            .container { padding: 15px; }
            .button-group { flex-direction: column; }
            button { width: 100%; min-width: auto; }
            .item-btn { flex: 1 1 100%; font-size: 1em; padding: 14px; }
            header h1 { font-size: 1.5em; }
            header p { font-size: 0.95em; }
        }
        @media (min-width: 601px) and (max-width: 800px) {
            .item-btn { flex: 1 1 calc(33% - 10px); }
        }

        /* Educational & STEM Sections */
        .education, .stem-section {
            max-width: 800px;
            margin: 40px auto;
            background: #e8f5e8;
            padding: 25px;
            border-radius: 10px;
            border-left: 5px solid #4CAF50;
            font-size: 1em;
        }
        .education h2, .stem-section h2 {
            color: #2c3e50;
            margin-top: 0;
            font-size: 1.4em;
            text-align: center;
        }
        .stem-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        /* 4 cards in one row on large screens */
        @media (min-width: 900px) {
            .stem-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .stem-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-align: center;
        }
        .stem-card h3 {
            margin: 0 0 10px;
            color: #27ae60;
            font-size: 1.2em;
        }
        .stem-card button {
            background-color: #3498db;
            margin-top: 10px;
        }
        .stem-card button:hover {
            background-color: #2980b9;
        }
        canvas#qrCanvas {
            margin: 15px auto;
            display: block;
            max-width: 200px;
        }
        footer {
            text-align: center;
            margin-top: 30px;
            color: #777;
            font-size: 0.9em;
        }

                /* Image Gallery Styles */
        .image-gallery {
            overflow: hidden;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .gallery-track {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            scroll-behavior: smooth;
            padding: 10px 0;
            scrollbar-width: thin;
        }

        .gallery-track::-webkit-scrollbar {
            height: 8px;
        }

        .gallery-track::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .gallery-track::-webkit-scrollbar-thumb {
            background: #4CAF50;
            border-radius: 10px;
        }

        .gallery-item {
            flex: 0 0 180px;
            text-align: center;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }

        .gallery-item:hover {
            transform: translateY(-5px);
        }

        .gallery-item img {
            width: 100%;
            height: 140px;
            object-fit: cover;
            border-bottom: 3px solid #4CAF50;
        }

        .gallery-item p {
            margin: 8px 0;
            font-size: 0.9em;
            color: #333;
        }

        .gallery-item p strong {
            color: #27ae60;
            font-size: 1em;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .gallery-item {
                flex: 0 0 150px;
            }
            .gallery-item img {
                height: 120px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Recyclo</h1>
        <p>Sustainable Waste Disposal Guide for Ugandan Cities</p>
    </header>

    <div class="container">
        <label for="city">Select City:</label>
        <select id="city">
            <option value="Kampala">Kampala</option>
            <option value="Gulu">Gulu</option>
            <option value="Arua">Arua</option>
            <option value="Lira">Lira</option>
            <option value="Mbale">Mbale</option>
        </select>

        <label for="item">Type or Select Item:</label>
        <input type="text" id="item" placeholder="e.g., plastic bottle">

        <div class="button-group">
            <button onclick="searchItem()">Search</button>
            <button onclick="suggestItems()">Suggest Items</button>
        </div>

        <div id="result"></div>
        <div id="disposalInfo"></div>
    </div>

    <!-- Educational Section -->
    <div class="education">
        <h2>Why Proper Waste Disposal Matters</h2>
        <p><strong>Recyclo</strong> is more than a tool — it's a step toward a cleaner, healthier Uganda.</p>
        
        <ul>
            <li><strong>Reduces Landfill Waste:</strong> Uganda generates over 3,000 tons of waste daily.</li>
            <li><strong>Protects the Environment:</strong> Prevents soil and water pollution.</li>
            <li><strong>Creates Jobs & Income:</strong> Recycling supports thousands of collectors.</li>
            <li><strong>Improves Public Health:</strong> Reduces disease from open burning.</li>
            <li><strong>Empowers Communities:</strong> Teaches responsibility and sustainability.</li>
        </ul>

        <p style="text-align: center; font-style: italic; margin-top: 20px;">
            "Small actions, when multiplied by millions, can transform the world." – Howard Zinn
        </p>
    </div>

        <!-- Image Gallery Section -->
    <div class="education">
        <h2>Visual Guide to Waste Sorting</h2>
        <p>See real examples of common waste items and how to sort them.</p>
        
        <div class="image-gallery">
            <div class="gallery-track">
                <div class="gallery-item">
                    <img src="images/plastic-bottle.jpeg" alt="Plastic Bottle - Recyclable">
                    <p>Plastic Bottle<br><strong>Recyclable</strong></p>
                </div>
                <div class="gallery-item">
                    <img src="images/food-scraps.jpeg" alt="Food Scraps - Organic">
                    <p>Food Scraps<br><strong>Organic</strong></p>
                </div>
                <div class="gallery-item">
                    <img src="images/battery.jpeg" alt="Battery - Hazardous">
                    <p>Battery<br><strong>Hazardous</strong></p>
                </div>
                <div class="gallery-item">
                    <img src="images/old-phone.jpeg" alt="Old Phone - E-Waste">
                    <p>Old Phone<br><strong>E-Waste</strong></p>
                </div>
                <div class="gallery-item">
                    <img src="images/diaper.jpeg" alt="Diaper - General Waste">
                    <p>Diaper<br><strong>General Waste</strong></p>
                </div>
                <div class="gallery-item">
                    <img src="images/cardboard.jpeg" alt="Cardboard - Recyclable">
                    <p>Cardboard<br><strong>Recyclable</strong></p>
                </div>
                <div class="gallery-item">
                    <img src="images/glass-bottle.png" alt="Glass Bottle - Recyclable">
                    <p>Glass Bottle<br><strong>Recyclable</strong></p>
                </div>
                <div class="gallery-item">
                    <img src="images/medical-waste.jpeg" alt="Medical Waste - Hazardous">
                    <p>Medical Waste<br><strong>Hazardous</strong></p>
                </div>
            </div>
        </div>
        
        <p style="text-align: center; font-size: 0.9em; color: #555; margin-top: 15px;">
            Scroll horizontally to see more →
        </p>
    </div>

    <!-- STEM Interactive Section -->
    <div class="stem-section">
        <h2>Explore STEM Behind Recyclo</h2>
        <p>Learn how <strong>Science, Technology, Engineering, and Math</strong> make waste management smarter.</p>

        <div class="stem-grid">
            <!-- Science: CO2 Quiz -->
            <div class="stem-card">
                <h3>Science: CO₂ Quiz</h3>
                <p>How much CO₂ does burning 1kg of plastic release?</p>
                <button onclick="showCO2Answer()">Show Answer</button>
                <div id="co2Answer" class="stem-result"></div>
            </div>

            <!-- Technology: QR Code -->
            <div class="stem-card">
                <h3>Technology: Share Guide</h3>
                <p>Generate a QR code to share disposal tips.</p>
                <button onclick="generateQR()">Generate QR</button>
                <canvas id="qrCanvas"></canvas>
            </div>

            <!-- Engineering: Landfill Calculator -->
            <div class="stem-card">
                <h3>Engineering: Landfill Space</h3>
                <p>Calculate how much space waste takes.</p>
                <input type="number" id="wasteKg" placeholder="Waste in kg" min="1">
                <button onclick="calcLandfill()">Calculate</button>
                <div id="landfillResult" class="stem-result"></div>
            </div>

            <!-- Math: Recycling Savings -->
            <div class="stem-card">
                <h3>Mathematics: Recycling Math</h3>
                <p>Save trees by recycling paper.</p>
                <input type="number" id="paperKg" placeholder="Paper recycled (kg)" min="1">
                <button onclick="calcTrees()">Calculate Trees Saved</button>
                <div id="treesResult" class="stem-result"></div>
            </div>
        </div>
    </div>

    <footer>
        &copy; 2025 Recyclo. Built for Uganda's Future
    </footer>

    <!-- QR Code Library -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.0/build/qrcode.min.js"></script>

    <script>
        // === WASTE DISPOSAL LOGIC ===
        const wasteTypes = {
            'Hazardous Waste': ['Batteries', 'Pesticides', 'Paint', 'Chemicals', 'Medical waste'],
            'Organic Waste': ['Food scraps', 'Garden waste', 'Paper (compostable)', 'Manure'],
            'Recyclable Waste': ['Plastic bottles', 'Paper', 'Cardboard', 'Glass bottles', 'Metals (cans)'],
            'Electronic Waste': ['Old phones', 'Computers', 'Batteries (electronic)', 'TVs', 'Chargers'],
            'General Waste/Non-Recyclable': ['Diapers', 'Sanitary pads', 'Mixed waste', 'Non-recyclable plastics']
        };

        const disposalGuidelines = {
            'Kampala': {
                'Hazardous Waste': 'Contact KCCA for collection or authorized hazardous waste handlers. Do not dispose in regular bins. Refer to NEMA guidelines.',
                'Organic Waste': 'Compost at home or deliver to KCCA composting sites. Avoid landfills.',
                'Recyclable Waste': 'Sort and place in recycling bins. KCCA partners with recyclers for plastics, paper, metals. Drop at collection points.',
                'Electronic Waste': 'Take to authorized e-waste collectors like those under NEMA e-waste policy. Do not landfill.',
                'General Waste/Non-Recyclable': 'Place in black bins for KCCA collection to Kiteezi or Ddundu landfill.'
            },
            'Gulu': {
                'Hazardous Waste': 'Use designated hazardous collection via Gulu City Council or NEMA-approved sites. Avoid burning.',
                'Organic Waste': 'Compost locally or use community composting. Supports soil health.',
                'Recyclable Waste': 'Deliver plastics to Takataka Plastics facility at Kaunda grounds for recycling. Paper and metals to local collectors.',
                'Electronic Waste': 'Limited facilities; transport to Kampala or contact NEMA for guidance.',
                'General Waste/Non-Recyclable': 'City collection skips to landfill. Use provided bins.'
            },
            'Arua': {
                'Hazardous Waste': 'Special collection through Arua City Council or NEMA. Do not dump.',
                'Organic Waste': 'Recycle at composting plant off Arua-Pakwach road (when operational). Home composting encouraged.',
                'Recyclable Waste': 'Drop at new recycling plant for plastics and metals. Supports migrant employment.',
                'Electronic Waste': 'E-waste education programs; take to authorized points or Kampala.',
                'General Waste/Non-Recyclable': 'City collection to dumpsite. Improve with color-coded bins.'
            },
            'Lira': {
                'Hazardous Waste': 'City ordinance requires special handling. Contact Lira City Council.',
                'Organic Waste': 'Compost or biogas production. Community education ongoing.',
                'Recyclable Waste': 'Sell plastics to Awio Scrap Dealers for recycling in Kampala. Local collection improving.',
                'Electronic Waste': 'Follow national policy; limited local facilities.',
                'General Waste/Non-Recyclable': 'Private collectors like Lira City Cleaners to landfill. Pay for service.'
            },
            'Mbale': {
                'Hazardous Waste': 'NEMA special disposal. Avoid open dumping.',
                'Organic Waste': 'Compost at Mbale Compost Plant or use Black Soldier Fly tech.',
                'Recyclable Waste': 'Recycle at garbage composite plant turning waste to manure/resources. Plastics to local dealers.',
                'Electronic Waste': 'National guidelines; transport to certified recyclers.',
                'General Waste/Non-Recyclable': 'City collection to Doko site. Privatized services available.'
            }
        };

        const itemToCategory = {
            'batteries': 'Hazardous Waste', 'pesticides': 'Hazardous Waste', 'paint': 'Hazardous Waste',
            'chemicals': 'Hazardous Waste', 'medical': 'Hazardous Waste',
            'food': 'Organic Waste', 'scraps': 'Organic Waste', 'garden': 'Organic Waste',
            'compost': 'Organic Waste', 'manure': 'Organic Waste',
            'plastic': 'Recyclable Waste', 'bottle': 'Recyclable Waste', 'paper': 'Recyclable Waste',
            'cardboard': 'Recyclable Waste', 'glass': 'Recyclable Waste', 'metal': 'Recyclable Waste',
            'can': 'Recyclable Waste', 'phone': 'Electronic Waste', 'computer': 'Electronic Waste',
            'tv': 'Electronic Waste', 'charger': 'Electronic Waste', 'diaper': 'General Waste/Non-Recyclable',
            'sanitary': 'General Waste/Non-Recyclable', 'mixed': 'General Waste/Non-Recyclable'
        };

        function suggestItems() {
            const result = document.getElementById('result');
            let html = '<h3 style="margin-top:0;">Select an Item:</h3>';
            for (let cat in wasteTypes) {
                html += `<div class="category">
                    <h4>${cat}</h4>
                    <div class="item-buttons">`;
                wasteTypes[cat].forEach(item => {
                    html += `<button class="item-btn" onclick="setItem('${item}')">${item}</button>`;
                });
                html += `</div></div>`;
            }
            result.innerHTML = html;
            result.style.display = 'block';
            document.getElementById('disposalInfo').style.display = 'none';
        }

        function setItem(item) {
            document.getElementById('item').value = item;
            searchItem();
        }

        function searchItem() {
            const city = document.getElementById('city').value;
            const itemInput = document.getElementById('item').value.toLowerCase().trim();
            const result = document.getElementById('result');
            const disposalInfo = document.getElementById('disposalInfo');

            if (!itemInput) {
                result.innerHTML = '<p style="color:red;">Please enter an item.</p>';
                result.style.display = 'block';
                disposalInfo.style.display = 'none';
                return;
            }

            let category = 'General Waste/Non-Recyclable';
            for (let key in itemToCategory) {
                if (itemInput.includes(key)) {
                    category = itemToCategory[key];
                    break;
                }
            }

            const guideline = disposalGuidelines[city][category] || 'Follow local council guidelines. Contact city authorities.';
            
            disposalInfo.innerHTML = `
                <h3>${itemInput.charAt(0).toUpperCase() + itemInput.slice(1)}</h3>
                <p><strong>Category:</strong> ${category}</p>
                <p><strong>Disposal in ${city}:</strong></p>
                <p>${guideline}</p>
            `;
            disposalInfo.style.display = 'block';
            result.style.display = 'none';
        }

        document.getElementById('item').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') searchItem();
        });

        // === STEM INTERACTIVE FEATURES ===

        function showCO2Answer() {
            const answer = document.getElementById('co2Answer');
            answer.innerHTML = `<p><strong>2.7 kg CO₂</strong> per 1kg of plastic burned!</p>
                               <p>That's like driving a car 10 km.</p>`;
            answer.style.display = 'block';
        }

        function generateQR() {
            const city = document.getElementById('city').value;
            const item = document.getElementById('item').value || "plastic bottle";
            const url = `https://recycloug.netlify.app/?city=${city}&item=${encodeURIComponent(item)}`;
            const canvas = document.getElementById('qrCanvas');
            QRCode.toCanvas(canvas, url, { width: 200 }, (error) => {
                if (error) console.error(error);
            });
        }

        function calcLandfill() {
            const kg = parseFloat(document.getElementById('wasteKg').value);
            if (!kg || kg <= 0) return alert("Enter a valid weight in kg");
            const density = 0.25; // tons per m³
            const volume = kg / (density * 1000);
            const result = document.getElementById('landfillResult');
            result.innerHTML = `<p><strong>${kg} kg</strong> of waste takes up <strong>${volume.toFixed(2)} m³</strong> in a landfill.</p>
                               <p>That's like <strong>${(volume / 2).toFixed(1)}</strong> standard wheelbarrows!</p>`;
            result.style.display = 'block';
        }

        function calcTrees() {
            const kg = parseFloat(document.getElementById('paperKg').value);
            if (!kg || kg <= 0) return alert("Enter a valid weight in kg");
            const treesPerTon = 17;
            const trees = (kg / 1000) * treesPerTon;
            const result = document.getElementById('treesResult');
            result.innerHTML = `<p>Recycling <strong>${kg} kg</strong> of paper saves <strong>${trees.toFixed(2)}</strong> trees!</p>
                               <p>That's like saving <strong>${(trees / 12).toFixed(1)}</strong> mature trees per year.</p>`;
            result.style.display = 'block';
        }
    </script>
</body>
</html>